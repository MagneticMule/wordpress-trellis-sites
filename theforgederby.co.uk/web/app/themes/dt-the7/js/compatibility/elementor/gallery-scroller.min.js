jQuery(document).ready(function(a){function b(a,b,e){var f=b.find(".dt-product-gallery"),g=b.find(".dt-product-thumbs .slides"),h=g.find("li:eq(0)"),i=b.data("productGallery");if(a&&a.image&&a.image.src&&a.image.src.length>1){var j=h.find("img"),k=f.find(".woocommerce-product-gallery__image:not(.clone), .woocommerce-product-gallery__image--placeholder").eq(0),l=k.find(".wp-post-image"),m=k.find("a").eq(0);c(b);var n=g.find('li img[data-src="'+a.image.full_src+'"]');if(n.length>0)return void 0!==i&&i.blockRefreshOnce(),n.trigger("click"),e.attr("dt-current-image",a.image_id),void window.setTimeout(function(){f.trigger("woocommerce_gallery_init_zoom")},20);l.wc_set_variation_attr("src",a.image.src),l.wc_set_variation_attr("height",a.image.src_h),l.wc_set_variation_attr("width",a.image.src_w),l.wc_set_variation_attr("srcset",a.image.srcset),l.wc_set_variation_attr("sizes",a.image.sizes),l.wc_set_variation_attr("title",a.image.title),l.wc_set_variation_attr("data-caption",a.image.caption),l.wc_set_variation_attr("alt",a.image.alt),l.wc_set_variation_attr("data-src",a.image.full_src),l.wc_set_variation_attr("data-large_image",a.image.full_src),l.wc_set_variation_attr("data-large_image_width",a.image.full_src_w),l.wc_set_variation_attr("data-large_image_height",a.image.full_src_h),k.wc_set_variation_attr("data-thumb",a.image.src),j.wc_set_variation_attr("srcset",""),j.wc_set_variation_attr("src",a.image.src),j.wc_set_variation_attr("data-src",a.image.full_src),m.wc_set_variation_attr("href",a.image.full_src)}else c(b);void 0!==i&&(i.updateThumbnailImages(h),i.updateGalleryImages(f.find(".slides li:eq(0)"))),window.setTimeout(function(){d(a,b,e),f.trigger("woocommerce_gallery_init_zoom")},20)}function c(a){var b=a.find(".dt-product-gallery"),c=a.find(".dt-product-thumbs .slides"),d=c.find("li:eq(0)"),e=d.find("img"),f=b.find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),g=f.find(".wp-post-image"),h=f.find("a").eq(0);g.wc_reset_variation_attr("src"),g.wc_reset_variation_attr("width"),g.wc_reset_variation_attr("height"),g.wc_reset_variation_attr("srcset"),g.wc_reset_variation_attr("sizes"),g.wc_reset_variation_attr("title"),g.wc_reset_variation_attr("data-caption"),g.wc_reset_variation_attr("alt"),g.wc_reset_variation_attr("data-src"),g.wc_reset_variation_attr("data-large_image"),g.wc_reset_variation_attr("data-large_image_width"),g.wc_reset_variation_attr("data-large_image_height"),f.wc_reset_variation_attr("data-thumb"),e.wc_reset_variation_attr("src"),e.wc_reset_variation_attr("srcset"),e.wc_reset_variation_attr("data-src"),h.wc_reset_variation_attr("href")}function d(a,b,c){var d=b.find(".dt-product-gallery"),e=a&&a.image_id?a.image_id:"";c.attr("dt-current-image")!==e&&(reset_slide_position=!0),c.attr("dt-current-image",e),reset_slide_position&&d.trigger("woocommerce_gallery_reset_slide_position")}a.productGallery=function(b){var c,d=a(b),e=d.find(".dt-wc-product-gallery"),f=e.find(".dt-product-thumbs"),g=e.find(".dt-product-gallery"),h=g.find(".flexslider"),i=f.find(".flexslider");j={},d.vars={},a.data(b,"productGallery",d);var j={initVars:function(){d.css("--widget-width",d.width()+"px"),d.vars.scrollMode=the7Utils.parseParam(f.attr("data-scroll-mode"),"horizontal"),d.vars.thumbGap=the7Utils.parseIntParam(d.css("--thumbs-spacing"),0),d.vars.colNum=the7Utils.parseIntParam(d.css("--thumbs-items"),3),d.vars.isVertical="vertical"===d.vars.scrollMode,d.vars.blockedRefresh=!1},init:function(){j.initVars();var b=h.find(".flex-direction-nav a"),f=the7Utils.parseParam(e.attr("data-animation"),"slide"),k="fade"===f?400:600,l=!0,m=!1;if(g.on("click",".zoom-flash",function(a){a.preventDefault(),g.find(".woocommerce-product-gallery__trigger").trigger("click")}),g.on("click",".woocommerce-product-gallery__trigger",function(a){void 0!==c&&c.openPhotoswipe(a)}),g.on("click",".woocommerce-product-gallery__image",function(a){d.hasClass("lightbox-on-click-y")&&void 0!==c&&c.openPhotoswipe(a)}),d.on("woocommerce_gallery_reset_slide_position",j.onResetSlidePosition),h.find(".slides > li").length>1&&(m=!0),h.flexslider({animation:f,animationSpeed:k,controlNav:!1,animationLoop:m,slideshow:!1,customDirectionNav:b,prevText:"",nextText:"",allowOneSlide:!0,after:function(a){j.productInitZoomForCurrentSlide(a)},sync:i,init:function(a){j.productInitZoomForCurrentSlide(a),l&&i.find(".slides > li").length>1&&(l=!1,j.thumbs.init())},start:function(b){h.css("visibility","inherit"),b.find(".slides > li").length>1&&"fade"===b.vars.animation&&(namespace=b.vars.namespace,b.viewport=a('<div class="'+namespace+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(b).append(b.container))}}),void 0===n)var n={};"undefined"!=typeof dtGlobals&&dtGlobals.addOnloadEvent(function(){if("function"==typeof a.fn.wc_product_gallery){var b={flexslider_enabled:!1,zoom_enabled:!1,photoswipe_enabled:!0,photoswipe_options:{shareEl:!1,closeOnScroll:!1,history:!1,hideAnimationDuration:0,showAnimationDuration:0}};c=g.wc_product_gallery(b).data("product_gallery")}}),a(window).on("debouncedresize",function(){d.vars.blockedRefresh||(d.refresh(),d.vars.blockedRefresh=!1)})},thumbs:{init:function(){d.find(".slides li img").the7ImageRatio();var b,c,e,g,k,l,m,n=f.find(".flex-direction-nav a"),o=!0;i.flexslider({animation:"slide",animationLoop:!0,controlNav:!1,customDirectionNav:n,move:1,slideshow:!1,itemWidth:100,itemMargin:d.vars.thumbGap,direction:d.vars.scrollMode,prevText:"",nextText:"",directionNav:!0,asNavFor:h,init:function(d){l=d.vars.namespace;var f=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture;b=("ontouchstart"in window||f||window.DocumentTouch&&document instanceof DocumentTouch)&&d.vars.touch,c="vertical"===d.vars.direction,e=d.vars.reverse,g=d.vars.itemWidth>0,k="fade"===d.vars.animation,m=""!==d.vars.asNavFor,o&&(o=!1,d.doMath=function(){var a=d.slides.first(),b=d.vars.itemMargin,e=d.vars.minItems,f=d.vars.maxItems;c?(d.w=void 0===d.viewport?d.height():d.viewport.height(),d.isFirefox&&(d.w=d.height()),d.h=a.width(),d.boxPadding=a.outerHeight()-a.height()):(d.w=void 0===d.viewport?d.width():d.viewport.width(),d.isFirefox&&(d.w=d.width()),d.h=a.height(),d.boxPadding=a.outerWidth()-a.width()),g?(d.itemT=d.vars.itemWidth+b,d.itemM=b,d.minW=e?e*d.itemT:d.w,d.maxW=f?f*d.itemT-b:d.w,d.itemW=d.minW>d.w?(d.w-b*(e-1))/e:d.maxW<d.w?(d.w-b*(f-1))/f:d.vars.itemWidth>d.w?d.w:d.vars.itemWidth,d.visible=Math.floor(d.w/d.itemW),d.move=d.vars.move>0&&d.vars.move<d.visible?d.vars.move:d.visible,d.pagingCount=Math.ceil((d.count-d.visible)/d.move+1),d.last=d.pagingCount-1,d.limit=1===d.pagingCount?0:d.vars.itemWidth>d.w?d.itemW*(d.count-1)+b*(d.count-1):(d.itemW+b)*d.count-d.w-b):(d.itemW=d.w,d.itemM=b,d.pagingCount=d.count,d.last=d.count-1),d.computedW=d.itemW-d.boxPadding,d.computedM=d.itemM},d.canAdvance=function(a,b){var c=m?d.pagingCount-1:d.last;return!!b||(!(!m||d.currentItem!==d.count-1||0!==a||"prev"!==d.direction)||(!(!m||0!==d.currentItem||a!==d.pagingCount-1||"next"===d.direction)||!(a===d.currentSlide&&!m)&&(!!d.vars.animationLoop||(!d.atEnd||0!==d.currentSlide||a!==c||"next"===d.direction)&&(!d.atEnd||d.currentSlide!==c||0!==a||"next"!==d.direction))))},d.flexAnimate=function(f,h,i,j,n){if(d.vars.animationLoop||f===d.currentSlide||(d.direction=f>d.currentSlide?"next":"prev"),m&&1===d.pagingCount&&(d.direction=d.currentItem<f?"next":"prev"),!d.animating&&(d.canAdvance(f,n)||i)&&d.is(":visible")){if(m&&j){var o=a(d.vars.asNavFor).data("flexslider");if(d.atEnd=0===f||f===d.count-1,o.flexAnimate(f,!0,!1,!0,n),d.direction=d.currentItem<f?"next":"prev",o.direction=d.direction,d.currentItem=f,d.slides.removeClass(l+"active-slide").eq(f).addClass(l+"active-slide"),d.currentItem>=d.currentSlide+d.visible)f=d.currentItem-d.visible+1;else{if(!(d.currentItem<d.currentSlide))return!0;f=d.currentItem}}if(d.animating=!0,d.animatingTo=f,h&&d.pause(),d.vars.before(d),g||d.slides.removeClass(l+"active-slide").eq(f).addClass(l+"active-slide"),d.atEnd=0===f||f===d.last,d.vars.directionNav){var p=l+"disabled";1===d.pagingCount?d.directionNav.addClass(p).attr("tabindex","-1"):d.vars.animationLoop?d.directionNav.removeClass(p).removeAttr("tabindex"):0===d.animatingTo?d.directionNav.removeClass(p).filter("."+l+"prev").addClass(p).attr("tabindex","-1"):d.animatingTo===d.last?d.directionNav.removeClass(p).filter("."+l+"next").addClass(p).attr("tabindex","-1"):d.directionNav.removeClass(p).removeAttr("tabindex")}if(f===d.last&&(d.vars.end(d),d.vars.animationLoop||d.pause()),k)b?(d.slides.eq(d.currentSlide).css({opacity:0,zIndex:1}),d.slides.eq(f).css({opacity:1,zIndex:2}),d.wrapup(t)):(d.slides.eq(d.currentSlide).css({zIndex:1}).animate({opacity:0},d.vars.animationSpeed,d.vars.easing),d.slides.eq(f).css({zIndex:2}).animate({opacity:1},d.vars.animationSpeed,d.vars.easing,d.wrapup));else{var q,r,s,t=c?d.slides.filter(":first").height():d.computedW;g?(q=d.vars.itemMargin,s=(d.itemW+q)*d.move*d.animatingTo,r=s>d.limit&&1!==d.visible?d.limit:s):r=0===d.currentSlide&&f===d.count-1&&d.vars.animationLoop&&"next"!==d.direction?e?(d.count+d.cloneOffset)*t:0:d.currentSlide===d.last&&0===f&&d.vars.animationLoop&&"prev"!==d.direction?e?0:(d.count+1)*t:e?(d.count-1-f+d.cloneOffset)*t:(f+d.cloneOffset)*t,d.setProps(r,"",d.vars.animationSpeed),d.transitions?(d.vars.animationLoop&&d.atEnd||(d.animating=!1,d.currentSlide=d.animatingTo),d.container.unbind("webkitTransitionEnd transitionend"),d.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(d.ensureAnimationEnd),d.wrapup(t)}),clearTimeout(d.ensureAnimationEnd),d.ensureAnimationEnd=setTimeout(function(){d.wrapup(t)},d.vars.animationSpeed+100)):d.container.animate(d.args,d.vars.animationSpeed,d.vars.easing,function(){d.wrapup(t)})}}},j.calculateProductThumbnailSize(!0),d.css("visibility","inherit"))},start:function(a){var b=0;a.on("wheel",function(c){if(a.count<=a.visible)return!0;var d=c.originalEvent.deltaY,e=(new Date).getTime();if(e-b<1e3)return!1;var f;return f=d<0?a.getTarget("prev"):a.getTarget("next"),a.flexAnimate(f,a.vars.pauseOnAction),b=e,!1})}})}},prepareImages:function(a,b){a.the7ImageRatio("update",b)},productInitZoomForCurrentSlide:function(b){if("function"==typeof a.fn.zoom){var c=!!d.hasClass("show-image-zoom-yes"),e=b.slides.eq(b.currentSlide),f=b.computedW;if(e.trigger("zoom.destroy"),!c)return!1;var g=!1;if(a(e).each(function(b,c){if(a(c).find("img").data("large_image_width")>f)return g=!0,!1}),g){var h={touch:!1};"ontouchstart"in document.documentElement&&(h.on="click"),e.zoom(h),setTimeout(function(){e.find(":hover").length&&e.trigger("mouseover")},100)}}},calculateProductThumbnailSize:function(a){var b=i.data("flexslider");if(void 0===b)return!1;var c=!0,e=0,f=d.vars.colNum,j=d.vars.thumbGap,k=i.find(".slides li");d.clearPrecisionSizes(),e=d.vars.isVertical?h.outerHeight():h.outerWidth();var l=e/f-j+j/f;if(l=Math.round(l),k.length<=f&&(c=!1),c?i.removeClass("stop-transition"):i.addClass("stop-transition"),d.vars.isVertical){var m=(l+j)*f-j;i.css({height:m,width:Math.ceil(i.width())}),k.css({height:l}),i.find(".slides").css({height:(l+j)*k.length}),h.css({height:m,width:Math.ceil(g.width())})}else{var n=(l+j)*f-j;i.css({width:n}),h.css({width:n})}var o=h.data("flexslider");return void 0!==o&&(o.doMath(),o.setup(),o.setProps()),a&&(d.updateThumbnailImages(),d.updateGalleryImages(),b.vars.direction=d.vars.scrollMode,b.vars.itemMargin=j,b.vars.directionNav=c,b.vars.itemWidth=l,b.doMath(),b.setup(),b.setProps()),!0},onResetSlidePosition:function(){var a=h.data("flexslider");void 0!==a&&a.flexslider(0,a.vars.pauseOnAction,!1,!0)}};d.clearPrecisionSizes=function(){h.css({width:"",height:""}),d.vars.isVertical?i.css({width:""}):i.css({width:"",height:""})},d.refresh=function(){j.initVars(),j.calculateProductThumbnailSize(!1)&&setTimeout(function(){j.calculateProductThumbnailSize(!0)},150)},d.updateGalleryImages=function(a){var b=d.hasClass("preserve-gallery-ratio-y");void 0===a&&(a=h.find(".slides li")),j.prepareImages(a,b)},d.updateThumbnailImages=function(a){var b=d.hasClass("preserve-thumb-ratio-y");void 0===a&&(a=i.find(".slides li")),j.prepareImages(a,b)},d.blockRefreshOnce=function(){d.vars.blockedRefresh=!0},j.init()},a.productNavigation=function(b){var c=a(b),d=c.find(".the7-product-navigation .img-ratio-wrapper"),e={};a.data(b,"productNavigation",c),e={init:function(){d.find("img").the7ImageRatio(),c.refresh(),a(window).on("debouncedresize",function(){c.refresh()})}},c.refresh=function(a){var b=c.hasClass("preserve-img-ratio-y");void 0===a&&(a=d),a.the7ImageRatio("update",b)},e.init()},a(document).on("found_variation reset_image","form.cart",function(c,d){var e=a(this);b(d,a(".elementor-widget-the7-woocommerce-product-images"),e)}),a.fn.productGallery=function(){return this.each(function(){if("function"!=typeof a.fn.flexslider)return void console.error("Cannot initialize productGallery, flexslider library not found!");void 0!==a(this).data("productGallery")&&a(this).removeData("productGallery"),new a.productGallery(this)})},a(".elementor-widget-the7-woocommerce-product-images").productGallery(),a.fn.productNavigation=function(){return this.each(function(){if("function"!=typeof a.fn.the7ImageRatio)return void console.error("Cannot initialize the7ImageRatio, the7-main library not found!");void 0!==a(this).data("productNavigation")&&a(this).removeData("productNavigation"),new a.productNavigation(this)})},a(".elementor-widget-the7-woocommerce-product-navigation").productNavigation()});